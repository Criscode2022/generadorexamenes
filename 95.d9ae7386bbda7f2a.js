"use strict";(self.webpackChunkexamenes=self.webpackChunkexamenes||[]).push([[95],{3095:(Ue,B,l)=>{l.r(B),l.d(B,{GestionarPreguntasModule:()=>Le});var f=l(6814),b=l(9862),u=l(6223),e=l(5879),c=l(6649),L=l(7464),M=l(3798),N=l(5393),h=l(1417),J=l(8748),d=l(6825),x=l(7394),W=l(8645),z=l(4911),y=l(3019),X=l(2096),E=l(2438),m=l(4880),K=l(8549),_=l(6005),ee=l(7921),Z=l(4664),R=l(8180),I=l(2181),te=l(7398),ae=l(9397),ie=l(5177),ne=l(5114);const oe=["panel"];function se(n,r){if(1&n&&(e.TgZ(0,"div",0,1),e.Hsn(2),e.qZA()),2&n){const t=r.id,a=e.oxw();e.Q6J("id",a.id)("ngClass",a._classList)("@panelAnimation",a.isOpen?"visible":"hidden"),e.uIk("aria-label",a.ariaLabel||null)("aria-labelledby",a._getPanelAriaLabelledby(t))}}const re=["*"],le=(0,d.X$)("panelAnimation",[(0,d.SB)("void, hidden",(0,d.oB)({opacity:0,transform:"scaleY(0.8)"})),(0,d.eR)(":enter, hidden => visible",[(0,d.ru)([(0,d.jt)("0.03s linear",(0,d.oB)({opacity:1})),(0,d.jt)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,d.oB)({transform:"scaleY(1)"}))])]),(0,d.eR)(":leave, visible => hidden",[(0,d.jt)("0.075s linear",(0,d.oB)({opacity:0}))])]);let ue=0;class ce{constructor(r,t){this.source=r,this.option=t}}const pe=(0,c.Kr)(class{}),U=new e.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function de(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1}}});let ge=(()=>{class n extends pe{get isOpen(){return this._isOpen&&this.showPanel}_setColor(t){this._color=t,this._setThemeClasses(this._classList)}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=(0,h.Ig)(t)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(t){this._autoSelectActiveOption=(0,h.Ig)(t)}set classList(t){this._classList=t&&t.length?(0,h.du)(t).reduce((a,i)=>(a[i]=!0,a),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}constructor(t,a,i,o){super(),this._changeDetectorRef=t,this._elementRef=a,this._defaults=i,this._activeOptionChanges=x.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this._autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this._autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.optionSelected=new e.vpe,this.opened=new e.vpe,this.closed=new e.vpe,this.optionActivated=new e.vpe,this._classList={},this.id="mat-autocomplete-"+ue++,this.inertGroups=o?.SAFARI||!1}ngAfterContentInit(){this._keyManager=new N.s1(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const a=new ce(this,t);this.optionSelected.emit(a)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}_setThemeClasses(t){t["mat-primary"]="primary"===this._color,t["mat-warn"]="warn"===this._color,t["mat-accent"]="accent"===this._color}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(U),e.Y36(J.t4))},n.\u0275dir=e.lG2({type:n,viewQuery:function(t,a){if(1&t&&(e.Gf(e.Rgc,7),e.Gf(oe,5)),2&t){let i;e.iGM(i=e.CRH())&&(a.template=i.first),e.iGM(i=e.CRH())&&(a.panel=i.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[e.qOj]}),n})(),j=(()=>{class n extends ge{constructor(){super(...arguments),this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=(0,h.Ig)(t),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let r;return function(a){return(r||(r=e.n5z(n)))(a||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(t,a,i){if(1&t&&(e.Suo(i,c.K7,5),e.Suo(i,c.ey,5)),2&t){let o;e.iGM(o=e.CRH())&&(a.optionGroups=o),e.iGM(o=e.CRH())&&(a.options=o)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{disableRipple:"disableRipple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matAutocomplete"],features:[e._Bn([{provide:c.HF,useExisting:n}]),e.qOj],ngContentSelectors:re,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(t,a){1&t&&(e.F$t(),e.YNc(0,se,3,5,"ng-template"))},dependencies:[f.mk],styles:[".mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface.mat-mdc-autocomplete-panel{width:100%;max-height:256px;position:static;visibility:hidden;transform-origin:center top;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-autocomplete-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) .mdc-menu-surface.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above .mdc-menu-surface.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}.mdc-menu-surface.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}.mdc-menu-surface.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[le]},changeDetection:0}),n})();const he={provide:u.JU,useExisting:(0,e.Gpc)(()=>k),multi:!0},G=new e.OlP("mat-autocomplete-scroll-strategy"),fe={provide:G,deps:[M.aV],useFactory:function me(n){return()=>n.scrollStrategies.reposition()}};let _e=(()=>{class n{get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=(0,h.Ig)(t)}constructor(t,a,i,o,s,p,g,D,S,Ne,Je){this._element=t,this._overlay=a,this._viewContainerRef=i,this._zone=o,this._changeDetectorRef=s,this._dir=g,this._formField=D,this._document=S,this._viewportRuler=Ne,this._defaults=Je,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=x.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new W.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,z.P)(()=>{const P=this.autocomplete?this.autocomplete.options:null;return P?P.changes.pipe((0,ee.O)(P),(0,Z.w)(()=>(0,y.T)(...P.map(xe=>xe.onSelectionChange)))):this._zone.onStable.pipe((0,R.q)(1),(0,Z.w)(()=>this.optionSelections))}),this._scrollStrategy=p}ngAfterViewInit(){const t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,y.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,I.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,I.h)(()=>this._overlayAttached)):(0,X.of)()).pipe((0,te.U)(t=>t instanceof c.rN?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,y.T)((0,E.R)(this._document,"click"),(0,E.R)(this._document,"auxclick"),(0,E.R)(this._document,"touchend")).pipe((0,I.h)(t=>{const a=(0,J.sA)(t),i=this._formField?this._formField._elementRef.nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&a!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!i||!i.contains(a))&&(!o||!o.contains(a))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(a)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const a=t.keyCode,i=(0,m.Vb)(t);if(a===m.hY&&!i&&t.preventDefault(),this.activeOption&&a===m.K5&&this.panelOpen&&!i)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,s=a===m.LH||a===m.JH;a===m.Mf||s&&!i&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):s&&this._canOpen()&&this.openPanel(),(s||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let a=t.target,i=a.value;"number"===a.type&&(i=""==i?null:parseFloat(i)),this._previousValue!==i&&(this._previousValue=i,this._pendingAutoselectedOption=null,this._onChange(i),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const t=this._zone.onStable.pipe((0,R.q)(1)),a=this.autocomplete.options.changes.pipe((0,ae.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,ie.g)(0));return(0,y.T)(t,a).pipe((0,Z.w)(()=>(this._zone.run(()=>{const i=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),i!==this.panelOpen&&(this.panelOpen?this.autocomplete.opened.emit():this.autocomplete.closed.emit())}),this.panelClosingActions)),(0,R.q)(1)).subscribe(i=>this._setValueAndClose(i))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(t){const a=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t;this._updateNativeInputValue(a??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){const a=t?t.source:this._pendingAutoselectedOption;a&&(this._clearPreviousSelectedOption(a),this._assignOptionValue(a.value),this._onChange(a.value),this.autocomplete._emitSelectEvent(a),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(a=>{a!==t&&a.selected&&a.deselect()})}_attachOverlay(){let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new K.UE(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._handleOverlayEvents(t),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})})),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const a=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this.panelOpen&&a!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new M.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const a=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}];let s;s="above"===this.position?o:"below"===this.position?a:[...a,...o],t.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;t.autoActiveFirstOption?t._keyManager.setFirstItemActive():t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){const a=this.autocomplete,i=(0,c.CB)(t,a.options,a.optionGroups);if(0===t&&1===i)a._setScrollTop(0);else if(a.panel){const o=a.options.toArray()[t];if(o){const s=o._getHostElement(),p=(0,c.jH)(s.offsetTop,s.offsetHeight,a._getScrollTop(),a.panel.nativeElement.offsetHeight);a._setScrollTop(p)}}}_handleOverlayEvents(t){t.keydownEvents().subscribe(a=>{(a.keyCode===m.hY&&!(0,m.Vb)(a)||a.keyCode===m.LH&&(0,m.Vb)(a,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),a.stopPropagation(),a.preventDefault())}),t.outsidePointerEvents().subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(M.aV),e.Y36(e.s_b),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(G),e.Y36(ne.Is,8),e.Y36(_.G_,9),e.Y36(f.K0,8),e.Y36(L.rL),e.Y36(U,8))},n.\u0275dir=e.lG2({type:n,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[e.TTD]}),n})(),k=(()=>{class n extends _e{constructor(){super(...arguments),this._aboveClass="mat-mdc-autocomplete-panel-above"}}return n.\u0275fac=function(){let r;return function(a){return(r||(r=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(t,a){1&t&&e.NdJ("focusin",function(){return a._handleFocus()})("blur",function(){return a._onTouched()})("input",function(o){return a._handleInput(o)})("keydown",function(o){return a._handleKeydown(o)})("click",function(){return a._handleClick()}),2&t&&e.uIk("autocomplete",a.autocompleteAttribute)("role",a.autocompleteDisabled?null:"combobox")("aria-autocomplete",a.autocompleteDisabled?null:"list")("aria-activedescendant",a.panelOpen&&a.activeOption?a.activeOption.id:null)("aria-expanded",a.autocompleteDisabled?null:a.panelOpen.toString())("aria-owns",a.autocompleteDisabled||!a.panelOpen||null==a.autocomplete?null:a.autocomplete.id)("aria-haspopup",a.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[e._Bn([he]),e.qOj]}),n})(),be=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[fe],imports:[M.U8,c.Ng,c.BQ,f.ez,L.ZD,c.Ng,c.BQ]}),n})();var T=l(1075),ve=l(9977);const Ae=["button"],Me=["*"],q=new e.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),V=new e.OlP("MatButtonToggleGroup"),ye={provide:u.JU,useExisting:(0,e.Gpc)(()=>H),multi:!0};let Y=0;class Q{constructor(r,t){this.source=r,this.value=t}}let H=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,h.Ig)(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(a=>a.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,h.Ig)(t),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,h.Ig)(t),this._markButtonsForCheck()}constructor(t,a){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+Y++,this.valueChange=new e.vpe,this.change=new e.vpe,this.appearance=a&&a.appearance?a.appearance:"standard"}ngOnInit(){this._selectionModel=new ve.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(t){const a=new Q(t,this.value);this._controlValueAccessorChangeFn(a.value),this.change.emit(a)}_syncButtonToggle(t,a,i=!1,o=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?a?this._selectionModel.select(t):this._selectionModel.deselect(t):o=!0,o?Promise.resolve().then(()=>this._updateModelValue(t,i)):this._updateModelValue(t,i)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(a=>null!=t.value&&a===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(a=>this._selectValue(a))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const a=this._buttonToggles.find(i=>null!=i.value&&i.value===t);a&&(a.checked=!0,this._selectionModel.select(a))}_updateModelValue(t,a){a&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(q,8))},n.\u0275dir=e.lG2({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,a,i){if(1&t&&e.Suo(i,$,5),2&t){let o;e.iGM(o=e.CRH())&&(a._buttonToggles=o)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,a){2&t&&(e.uIk("aria-disabled",a.disabled),e.ekj("mat-button-toggle-vertical",a.vertical)("mat-button-toggle-group-appearance-standard","standard"===a.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[e._Bn([ye,{provide:V,useExisting:n}])]}),n})();const Te=(0,c.Kr)(class{});let $=(()=>{class n extends Te{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const a=(0,h.Ig)(t);a!==this._checked&&(this._checked=a,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=(0,h.Ig)(t)}constructor(t,a,i,o,s,p){super(),this._changeDetectorRef=a,this._elementRef=i,this._focusMonitor=o,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new e.vpe;const g=Number(s);this.tabIndex=g||0===g?g:null,this.buttonToggleGroup=t,this.appearance=p&&p.appearance?p.appearance:"standard"}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+Y++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector()||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new Q(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V,8),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(N.tE),e.$8M("tabindex"),e.Y36(q,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(t,a){if(1&t&&e.Gf(Ae,5),2&t){let i;e.iGM(i=e.CRH())&&(a._buttonElement=i.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,a){1&t&&e.NdJ("focus",function(){return a.focus()}),2&t&&(e.uIk("aria-label",null)("aria-labelledby",null)("id",a.id)("name",null),e.ekj("mat-button-toggle-standalone",!a.buttonToggleGroup)("mat-button-toggle-checked",a.checked)("mat-button-toggle-disabled",a.disabled)("mat-button-toggle-appearance-standard","standard"===a.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[e.qOj],ngContentSelectors:Me,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,a){if(1&t&&(e.F$t(),e.TgZ(0,"button",0,1),e.NdJ("click",function(){return a._onButtonClick()}),e.TgZ(2,"span",2),e.Hsn(3),e.qZA()(),e._UZ(4,"span",3)(5,"span",4)),2&t){const i=e.MAs(1);e.Q6J("id",a.buttonId)("disabled",a.disabled||null),e.uIk("tabindex",a.disabled?-1:a.tabIndex)("aria-pressed",a.checked)("name",a._getButtonName())("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledby),e.xp6(5),e.Q6J("matRippleTrigger",i)("matRippleDisabled",a.disableRipple||a.disabled)}},dependencies:[c.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),n})(),Ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.BQ,c.si,c.BQ]}),n})();var C=l(9548),v=l(8285),w=l(6611),A=l(3403),F=l(5861),O=l(8070);function Oe(n,r){if(1&n&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.tema)}}function Se(n,r){if(1&n&&(e.TgZ(0,"mat-radio-button",13),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}let Pe=(()=>{class n{constructor(){this.http=(0,e.f3M)(b.eN),this.servicioDatosService=(0,e.f3M)(O.s),this.temas=new u.NI,this.themesList=[],this.selectedTheme=this.themesList[0],this.difficulties=[1,2,3],this.selectedDifficulty=this.difficulties[0],this.enunciado="",this.respuesta1="",this.respuesta2="",this.respuesta3="",this.respuesta4="",this.idPreguntaInsertada=0,this.respuestaCorrecta=0,this.idPregunta=0,this.ListaPreguntas=[],this.preguntaSeleccionada=new u.NI,this.mensajeAgregar="",this.mensajeAgregarRespuestas=""}ngOnInit(){this.obtenerTemas(),this.obtenerPreguntas()}setRespuestaCorrecta(t){this.respuestaCorrecta=parseInt(t)}obtenerTemas(){this.servicioDatosService.temas$.subscribe(t=>{t&&(this.themesList=t)},t=>{console.error("Error al obtener datos del servicio REST:",t)})}obtenerPreguntas(){this.servicioDatosService.preguntas$.subscribe(t=>{t&&t.length&&(this.ListaPreguntas=t,this.idPreguntaInsertada=t[t.length-1].id_pregunta)},t=>{console.error("Error al obtener datos del servicio REST:",t)})}agregarPregunta(){this.http.post("https://api-examenes.onrender.com/preguntas",{id_tema:this.temas.value.id_tema,pregunta:this.enunciado,dificultad:this.selectedDifficulty}).subscribe(()=>{this.mensajeAgregar="Pregunta insertada correctamente",this.http.get("https://api-examenes.onrender.com/preguntas").subscribe(a=>{a&&a.length&&(this.idPreguntaInsertada=a[a.length-1].id_pregunta,this.agregarRespuestas(),this.servicioDatosService.actualizarPreguntas())},a=>{console.error("Error al obtener las preguntas: ",a),this.mensajeAgregar="Error al obtener las preguntas: "})},a=>{console.error("Error al agregar pregunta: ",a),this.mensajeAgregar="Error al agregar pregunta: "})}agregarRespuestas(){var t=this;return(0,F.Z)(function*(){const a=[{id_pregunta:t.idPreguntaInsertada,respuesta:t.respuesta1},{id_pregunta:t.idPreguntaInsertada,respuesta:t.respuesta2},{id_pregunta:t.idPreguntaInsertada,respuesta:t.respuesta3},{id_pregunta:t.idPreguntaInsertada,respuesta:t.respuesta4}];a.map((i,o)=>{i.es_correcta=o+1===t.respuestaCorrecta?"SI":"NO"}),a.sort(i=>"SI"===i.es_correcta?-1:1);try{yield t.http.post("https://api-examenes.onrender.com/respuestas",{respuestas:a}).toPromise(),t.mensajeAgregarRespuestas="Respuestas insertadas correctamente"}catch(i){console.error("Error al agregar respuestas: ",i),t.mensajeAgregarRespuestas="Error al insertar respuestas"}})()}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-agregar-pregunta"]],decls:52,vars:11,consts:[[1,"mt-8"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["name","selectedDifficulty",3,"ngModel","ngModelChange"],["name","enunciado","matInput","","placeholder","Enunciado","type","text","maxlength","255",3,"ngModel","ngModelChange"],[1,"flex"],[3,"click"],["name","respuesta1","matInput","","placeholder","Respuesta 1","type","text","maxlength","255",3,"ngModel","ngModelChange"],["name","respuesta2","matInput","","placeholder","Respuesta 2","type","text","maxlength","255",3,"ngModel","ngModelChange"],["name","respuesta3","matInput","","placeholder","Respuesta 3","type","text","maxlength","255",3,"ngModel","ngModelChange"],["name","respuesta4","matInput","","placeholder","Respuesta 4","type","text","maxlength","255",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],[1,"text-blue-800"],[3,"value"]],template:function(a,i){1&a&&(e.TgZ(0,"h2",0),e._uU(1,"Agregar pregunta"),e.qZA(),e.TgZ(2,"h3"),e._uU(3,"Selecciona el tema de la pregunta"),e.qZA(),e.TgZ(4,"mat-form-field")(5,"mat-label"),e._uU(6,"Temas"),e.qZA(),e.TgZ(7,"mat-select",1),e.YNc(8,Oe,2,2,"mat-option",2),e.qZA()(),e.TgZ(9,"h3"),e._uU(10,"Selecciona la dificultad"),e.qZA(),e.TgZ(11,"mat-radio-group",3),e.NdJ("ngModelChange",function(s){return i.selectedDifficulty=s}),e.YNc(12,Se,2,2,"mat-radio-button",2),e.qZA(),e.TgZ(13,"h3"),e._uU(14,"Introduce la pregunta"),e.qZA(),e.TgZ(15,"mat-form-field")(16,"mat-label"),e._uU(17,"Enunciado"),e.qZA(),e.TgZ(18,"input",4),e.NdJ("ngModelChange",function(s){return i.enunciado=s}),e.qZA()(),e.TgZ(19,"div")(20,"h3"),e._uU(21,"Introduce las respuestas y marca la correcta"),e.qZA(),e.TgZ(22,"div",5)(23,"mat-radio-button",6),e.NdJ("click",function(){return i.setRespuestaCorrecta("1")}),e.qZA(),e.TgZ(24,"mat-form-field")(25,"mat-label"),e._uU(26,"Respuesta 1"),e.qZA(),e.TgZ(27,"input",7),e.NdJ("ngModelChange",function(s){return i.respuesta1=s}),e.qZA()()(),e.TgZ(28,"div",5)(29,"mat-radio-button",6),e.NdJ("click",function(){return i.setRespuestaCorrecta("2")}),e.qZA(),e.TgZ(30,"mat-form-field")(31,"mat-label"),e._uU(32,"Respuesta 2"),e.qZA(),e.TgZ(33,"input",8),e.NdJ("ngModelChange",function(s){return i.respuesta2=s}),e.qZA()()(),e.TgZ(34,"div",5)(35,"mat-radio-button",6),e.NdJ("click",function(){return i.setRespuestaCorrecta("3")}),e.qZA(),e.TgZ(36,"mat-form-field")(37,"mat-label"),e._uU(38,"Respuesta 3"),e.qZA(),e.TgZ(39,"input",9),e.NdJ("ngModelChange",function(s){return i.respuesta3=s}),e.qZA()()(),e.TgZ(40,"div",5)(41,"mat-radio-button",6),e.NdJ("click",function(){return i.setRespuestaCorrecta("4")}),e.qZA(),e.TgZ(42,"mat-form-field")(43,"mat-label"),e._uU(44,"Respuesta 4"),e.qZA(),e.TgZ(45,"input",10),e.NdJ("ngModelChange",function(s){return i.respuesta4=s}),e.qZA()()()(),e.TgZ(46,"button",11),e.NdJ("click",function(){return i.agregarPregunta()}),e._uU(47," Agregar pregunta\n"),e.qZA(),e.TgZ(48,"h3",12),e._uU(49),e.qZA(),e.TgZ(50,"h3",12),e._uU(51),e.qZA()),2&a&&(e.xp6(7),e.Q6J("formControl",i.temas),e.xp6(1),e.Q6J("ngForOf",i.themesList),e.xp6(3),e.Q6J("ngModel",i.selectedDifficulty),e.xp6(1),e.Q6J("ngForOf",i.difficulties),e.xp6(6),e.Q6J("ngModel",i.enunciado),e.xp6(9),e.Q6J("ngModel",i.respuesta1),e.xp6(6),e.Q6J("ngModel",i.respuesta2),e.xp6(6),e.Q6J("ngModel",i.respuesta3),e.xp6(6),e.Q6J("ngModel",i.respuesta4),e.xp6(4),e.Oqu(i.mensajeAgregar),e.xp6(2),e.Oqu(i.mensajeAgregarRespuestas))},dependencies:[f.sg,u.Fj,u.JJ,u.nD,u.On,u.oH,c.ey,T.lW,_.KE,_.hX,C.Nt,v.VQ,v.U0,w.gD],styles:["@media (max-width: 765px){mat-form-field[_ngcontent-%COMP%]{width:80%}}"]})}return n})();function Ee(n,r){if(1&n&&(e.TgZ(0,"mat-option",9),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.pregunta," ")}}function Ze(n,r){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ID: ",null==t.preguntaSeleccionadaEliminar.value?null:t.preguntaSeleccionadaEliminar.value.id_pregunta,"\n")}}let Re=(()=>{class n{constructor(){this.mensajeEliminar="",this.temas=new u.NI,this.themesList=[],this.difficulties=[1,2,3],this.dificultadSeleccionadaAgregar=this.difficulties[0],this.dificultadSeleccionadaModificar=this.difficulties[0],this.enunciado="",this.enunciadoModificar="",this.respuesta1="",this.respuesta2="",this.respuesta3="",this.respuesta4="",this.respuesta1Correcta="NO",this.respuesta2Correcta="NO",this.respuesta3Correcta="NO",this.respuesta4Correcta="NO",this.temaSeleccionado=this.themesList[0],this.idPreguntaInsertada=0,this.respuestaCorrecta=0,this.idPregunta=0,this.ListaPreguntas=[],this.preguntaSeleccionada=new u.NI,this.preguntaSeleccionadaEliminar=new u.NI,this.mensajeAgregar="",this.mensajeAgregarRespuestas="",this.mensajeModificar="",this.mensajeModificarRespuestas="",this.preguntasFiltradas=[],this.http=(0,e.f3M)(b.eN),this.servicioDatosService=(0,e.f3M)(O.s)}ngOnInit(){this.obtenerTemas(),this.obtenerPreguntas(),this.preguntasFiltradas=this.ListaPreguntas}filtrarPreguntas(t){this.preguntasFiltradas=this.ListaPreguntas.filter(a=>a.pregunta.toLowerCase().includes(t.toLowerCase()))}eliminarPregunta(){this.http.delete("https://api-examenes.onrender.com/preguntas/"+this.idPregunta).subscribe(t=>{!1===t?(console.error("Error al eliminar la pregunta"),this.mensajeEliminar="Error al eliminar la pregunta"):(this.mensajeEliminar="Pregunta eliminada correctamente",this.servicioDatosService.actualizarPreguntas())},t=>{console.error("Error en la petici\xf3n HTTP"),this.mensajeEliminar="Error en la petici\xf3n HTTP",console.error(t)})}obtenerTemas(){this.servicioDatosService.temas$.subscribe(t=>{t&&(this.themesList=t)},t=>{console.error("Error al obtener datos del servicio REST:",t)})}obtenerPreguntas(){this.servicioDatosService.preguntas$.subscribe(t=>{t&&t.length&&(this.ListaPreguntas=t,this.idPreguntaInsertada=t[t.length-1].id_pregunta)},t=>{console.error("Error al obtener datos del servicio REST:",t)})}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-eliminar-pregunta"]],decls:21,vars:7,consts:[[1,"mt-8"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill"],["type","text","placeholder","Elige la pregunta","matInput","",3,"formControl","matAutocomplete","value","input"],[4,"ngIf"],["name","pregunta","matInput","","placeholder","Confirmar ID","type","text","maxlength","255",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],[1,"text-blue-800"],[3,"value"]],template:function(a,i){if(1&a&&(e.TgZ(0,"h2",0),e._uU(1,"Eliminar pregunta"),e.qZA(),e.TgZ(2,"h3"),e._uU(3,"Busca el ID de la pregunta que deseas eliminar"),e.qZA(),e.TgZ(4,"mat-autocomplete",null,1),e.YNc(6,Ee,2,2,"mat-option",2),e.qZA(),e.TgZ(7,"mat-form-field",3)(8,"input",4),e.NdJ("input",function(){return i.filtrarPreguntas(i.preguntaSeleccionadaEliminar.value)}),e.qZA()(),e.YNc(9,Ze,2,1,"p",5),e.TgZ(10,"h3"),e._uU(11,"Confirma el ID de la pregunta:"),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Confirmar ID"),e.qZA(),e.TgZ(15,"input",6),e.NdJ("ngModelChange",function(s){return i.idPregunta=s}),e.qZA()(),e.TgZ(16,"p")(17,"button",7),e.NdJ("click",function(){return i.eliminarPregunta()}),e._uU(18," Eliminar pregunta "),e.qZA()(),e.TgZ(19,"h3",8),e._uU(20),e.qZA()),2&a){const o=e.MAs(5);e.xp6(6),e.Q6J("ngForOf",i.preguntasFiltradas),e.xp6(2),e.Q6J("formControl",i.preguntaSeleccionadaEliminar)("matAutocomplete",o)("value",(null==i.preguntaSeleccionadaEliminar.value?null:i.preguntaSeleccionadaEliminar.value.pregunta)||""),e.xp6(1),e.Q6J("ngIf",null==i.preguntaSeleccionadaEliminar.value?null:i.preguntaSeleccionadaEliminar.value.id_pregunta),e.xp6(6),e.Q6J("ngModel",i.idPregunta),e.xp6(5),e.Oqu(i.mensajeEliminar)}},dependencies:[f.sg,f.O5,u.Fj,u.JJ,u.nD,u.On,u.oH,j,c.ey,k,T.lW,_.KE,_.hX,C.Nt],styles:["@media (max-width: 765px){mat-form-field[_ngcontent-%COMP%]{width:80%}}"]})}return n})();function ke(n,r){if(1&n&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.pregunta," ")}}function we(n,r){if(1&n&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.tema," ")}}function Fe(n,r){if(1&n&&(e.TgZ(0,"mat-radio-button",17),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const De=[{path:"",component:(()=>{class n{constructor(t,a,i){this.http=t,this.router=a,this.ServicioDatosService=i,this.temas=new u.NI,this.themesList=[],this.difficulties=[1,2,3],this.dificultadSeleccionadaAgregar=this.difficulties[0],this.dificultadSeleccionadaModificar=this.difficulties[0],this.enunciado="",this.enunciadoModificar="",this.respuesta1="",this.respuesta2="",this.respuesta3="",this.respuesta4="",this.respuesta1Correcta="NO",this.respuesta2Correcta="NO",this.respuesta3Correcta="NO",this.respuesta4Correcta="NO",this.temaSeleccionado=this.themesList[0],this.idPreguntaInsertada=0,this.respuestaCorrecta=0,this.rutaCambiada=!1,this.idPregunta=0,this.ListaPreguntas=[],this.preguntaSeleccionada=new u.NI,this.preguntaSeleccionadaModificar=new u.NI,this.mensajeEliminar="",this.mensajeAgregar="",this.mensajeAgregarRespuestas="",this.mensajeModificar="",this.mensajeModificarRespuestas="",this.respuestas=["","","",""],this.obtenerTemas()}ngOnInit(){this.obtenerTemas(),this.obtenerPreguntas()}obtenerTemas(){this.ServicioDatosService.temas$.subscribe(t=>{t&&(this.themesList=t)},t=>{console.error("Error al obtener datos del servicio REST:",t)})}obtenerPreguntas(){this.ServicioDatosService.preguntas$.subscribe(t=>{t&&t.length>0&&(this.ListaPreguntas=t,this.idPreguntaInsertada=t[t.length-1].id_pregunta,console.log("El Id de la pregunta insertada es "+this.idPreguntaInsertada))},t=>{console.error("Error al obtener datos del servicio REST:",t)})}agregarPregunta(){const a={tema:this.temas.value,texto:this.enunciado,dificultad:this.dificultadSeleccionadaAgregar};console.log(a),this.http.post("https://api-examenes.onrender.com/preguntas",a).subscribe(i=>{console.log(i),console.log("Pregunta insertada correctamente"),this.mensajeAgregar="Pregunta insertada correctamente",this.http.get("https://api-examenes.onrender.com/preguntas").subscribe(o=>{o&&o.length>0&&(this.idPreguntaInsertada=o[o.length-1].id_pregunta,console.log("El Id de la pregunta insertada es "+this.idPreguntaInsertada),this.agregarRespuestas(),this.ServicioDatosService.actualizarPreguntas())},o=>{console.error("Error al obtener las preguntas: ",o),this.mensajeAgregar="Error al obtener las preguntas: "})},i=>{console.error("Error al agregar pregunta: ",i),this.mensajeAgregar="Error al agregar pregunta: "})}agregarRespuestas(){var t=this;return(0,F.Z)(function*(){const a=[{esCorrecta:"SI"===t.respuesta1Correcta?"SI":"NO",pregunta:{id:t.idPreguntaInsertada},texto:t.respuesta1},{esCorrecta:"SI"===t.respuesta2Correcta?"SI":"NO",pregunta:{id:t.idPreguntaInsertada},texto:t.respuesta2},{esCorrecta:"SI"===t.respuesta3Correcta?"SI":"NO",pregunta:{id:t.idPreguntaInsertada},texto:t.respuesta3},{esCorrecta:"SI"===t.respuesta4Correcta?"SI":"NO",pregunta:{id:t.idPreguntaInsertada},texto:t.respuesta4}],i=a.filter(s=>"SI"===s.esCorrecta);console.log("Enviando respuesta correcta al servidor: ",i[0]);try{const s=yield t.http.post("https://api-examenes.onrender.com/respuesta",i[0]).toPromise();console.log("Respuesta del servidor: ",s),console.log("Respuesta correcta insertada correctamente")}catch(s){console.error("Error al agregar respuesta correcta: ",s)}const o=a.filter(s=>"NO"===s.esCorrecta);for(const s of o){console.log("Enviando respuesta incorrecta al servidor: ",s);try{const p=yield t.http.post("https://api-examenes.onrender.com/respuesta",s).toPromise();console.log("Respuesta del servidor: ",p),console.log("Respuesta incorrecta insertada correctamente"),t.mensajeAgregarRespuestas="Respuestas insertadas correctamente"}catch(p){console.error("Error al agregar respuesta incorrecta: ",p),t.mensajeAgregarRespuestas="Error al insertar respuestas"}}})()}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(b.eN),e.Y36(A.F0),e.Y36(O.s))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-gestionar-preguntas"]],decls:9,vars:3,consts:[[1,"flex","flex-col","mr-8","md:mr-0","md:flex-row"],[3,"routerLink"]],template:function(a,i){1&a&&(e.TgZ(0,"body")(1,"mat-button-toggle-group",0)(2,"mat-button-toggle",1),e._uU(3,"Agregar pregunta"),e.qZA(),e.TgZ(4,"mat-button-toggle",1),e._uU(5,"Modificar pregunta"),e.qZA(),e.TgZ(6,"mat-button-toggle",1),e._uU(7,"Eliminar pregunta"),e.qZA()(),e._UZ(8,"router-outlet"),e.qZA()),2&a&&(e.xp6(2),e.Q6J("routerLink","agregar"),e.xp6(2),e.Q6J("routerLink","modificar"),e.xp6(2),e.Q6J("routerLink","eliminar"))},dependencies:[A.lC,A.rH,H,$],styles:["body[_ngcontent-%COMP%]{margin:auto;position:absolute;left:40pt;top:140pt}mat-button-toggle[_ngcontent-%COMP%]{width:100%}"]})}return n})(),children:[{path:"",redirectTo:"agregar",pathMatch:"full"},{path:"eliminar",component:Re},{path:"modificar",component:(()=>{class n{constructor(){this.temas=new u.NI,this.themesList=[],this.difficulties=[1,2,3],this.dificultadSeleccionadaAgregar=this.difficulties[0],this.dificultadSeleccionadaModificar=this.difficulties[0],this.enunciado="",this.enunciadoModificar="",this.respuesta1="",this.respuesta2="",this.respuesta3="",this.respuesta4="",this.respuesta1Correcta="NO",this.respuesta2Correcta="NO",this.respuesta3Correcta="NO",this.respuesta4Correcta="NO",this.temaSeleccionado=this.themesList[0],this.idPreguntaInsertada=0,this.respuestaCorrecta=0,this.idPregunta=0,this.ListaPreguntas=[],this.preguntaSeleccionada=new u.NI,this.preguntaSeleccionadaModificar=new u.NI,this.mensajeEliminar="",this.mensajeAgregar="",this.mensajeAgregarRespuestas="",this.mensajeModificar="",this.mensajeModificarRespuestas="",this.respuestas=["","","",""],this.preguntasFiltradas=[],this.todasLasRespuestas=[],this.http=(0,e.f3M)(b.eN),this.servicioDatosService=(0,e.f3M)(O.s)}obtenerRespuestas(){this.http.get("https://api-examenes.onrender.com/respuestas").subscribe(t=>{this.todasLasRespuestas=t},t=>{console.error("Error al obtener datos del servicio REST:",t)})}ngOnInit(){this.obtenerTemas(),this.obtenerPreguntas(),this.obtenerRespuestas(),this.preguntasFiltradas=this.ListaPreguntas}setPreguntaSeleccionada(t){this.preguntaSeleccionadaModificar.setValue(t.option.value)}displayFn(t){return t&&t.pregunta?t.pregunta:""}setRespuestaCorrecta(t){switch(this.respuesta1Correcta="NO",this.respuesta2Correcta="NO",this.respuesta3Correcta="NO",this.respuesta4Correcta="NO",t){case"1":this.respuesta1Correcta="SI",this.respuestaCorrecta=1;break;case"2":this.respuesta2Correcta="SI",this.respuestaCorrecta=2;break;case"3":this.respuesta3Correcta="SI",this.respuestaCorrecta=3;break;case"4":this.respuesta4Correcta="SI",this.respuestaCorrecta=4}}filtrarPreguntas(t){this.preguntasFiltradas=this.ListaPreguntas.filter(a=>a.pregunta.toLowerCase().includes(t.toLowerCase()))}modificarPregunta(){var t=this;return(0,F.Z)(function*(){const a={id_tema:t.temas.value.id_tema,pregunta:t.enunciadoModificar,dificultad:t.dificultadSeleccionadaModificar};try{yield t.http.put(`https://api-examenes.onrender.com/preguntas/${t.preguntaSeleccionadaModificar.value.id_pregunta}`,a).toPromise(),t.mensajeModificar="Pregunta modificada correctamente",t.servicioDatosService.actualizarPreguntas();const i=t.todasLasRespuestas.filter(o=>o.id_pregunta===t.preguntaSeleccionadaModificar.value.id_pregunta);for(let o=0;o<i.length;o++){const s=i[o],p=o+1===t.respuestaCorrecta?"SI":"NO";let g;switch(o){case 0:g=t.respuesta1;break;case 1:g=t.respuesta2;break;case 2:g=t.respuesta3;break;case 3:g=t.respuesta4;break;default:g=""}const D={id_pregunta:t.preguntaSeleccionadaModificar.value.id_pregunta,respuesta:g,es_correcta:p};try{yield t.http.put(`https://api-examenes.onrender.com/respuestas/${s.id_respuesta}`,D).toPromise(),t.mensajeModificarRespuestas+=` Respuesta ${o+1} modificada correctamente`}catch(S){console.error("Error modificando la respuesta:",S),t.mensajeModificarRespuestas+=`Error modificando la respuesta ${o+1}: ${S.message}`}}t.servicioDatosService.actualizarPreguntas()}catch(i){console.error("Error modificando la pregunta:",i),t.mensajeModificar=`Error modificando la pregunta: ${i.message}`}})()}obtenerTemas(){this.servicioDatosService.temas$.subscribe(t=>{t&&(this.themesList=t)},t=>{console.error("Error al obtener datos del servicio REST:",t)})}obtenerPreguntas(){this.servicioDatosService.preguntas$.subscribe(t=>{t&&t.length&&(this.ListaPreguntas=t,this.idPreguntaInsertada=t[t.length-1].id_pregunta)},t=>{console.error("Error al obtener datos del servicio REST:",t)})}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-modificar-pregunta"]],decls:59,vars:16,consts:[[1,"mt-8"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill"],["type","text","placeholder","Elige la pregunta","aria-label","Number","matInput","",3,"formControl","matAutocomplete","value","input"],[3,"formControl"],["name","dificultadSeleccionadaModificar",3,"ngModel","ngModelChange"],["name","enunciadoModificar","matInput","","placeholder","Enunciado","type","text","maxlength","255",3,"ngModel","ngModelChange"],[1,"flex"],[3,"click"],["name","respuesta1","matInput","","placeholder","Respuesta 1","type","text","maxlength","255",3,"ngModel","ngModelChange"],["name","respuesta2","matInput","","placeholder","Respuesta 2","type","text","maxlength","255",3,"ngModel","ngModelChange"],["name","respuesta3","matInput","","placeholder","Respuesta 3","type","text","maxlength","255",3,"ngModel","ngModelChange"],["name","respuesta4","matInput","","placeholder","Respuesta 4","type","text","maxlength","255",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],[1,"text-blue-800"],[3,"value"]],template:function(a,i){if(1&a&&(e.TgZ(0,"h2",0),e._uU(1,"Modificar pregunta"),e.qZA(),e.TgZ(2,"h3"),e._uU(3,"Selecciona la pregunta que quieres modificar"),e.qZA(),e.TgZ(4,"mat-autocomplete",1,2),e.NdJ("optionSelected",function(s){return i.setPreguntaSeleccionada(s)}),e.YNc(6,ke,2,2,"mat-option",3),e.qZA(),e.TgZ(7,"mat-form-field",4)(8,"input",5),e.NdJ("input",function(){return i.filtrarPreguntas(i.preguntaSeleccionadaModificar.value)}),e.qZA()(),e.TgZ(9,"h3"),e._uU(10,"Selecciona el tema de la pregunta"),e.qZA(),e.TgZ(11,"mat-form-field",4)(12,"mat-label"),e._uU(13,"Temas"),e.qZA(),e.TgZ(14,"mat-select",6),e.YNc(15,we,2,2,"mat-option",3),e.qZA()(),e.TgZ(16,"h3"),e._uU(17,"Selecciona la dificultad"),e.qZA(),e.TgZ(18,"mat-radio-group",7),e.NdJ("ngModelChange",function(s){return i.dificultadSeleccionadaModificar=s}),e.YNc(19,Fe,2,2,"mat-radio-button",3),e.qZA(),e.TgZ(20,"h3"),e._uU(21,"Introduce la pregunta"),e.qZA(),e.TgZ(22,"mat-form-field")(23,"mat-label"),e._uU(24,"Enunciado"),e.qZA(),e.TgZ(25,"input",8),e.NdJ("ngModelChange",function(s){return i.enunciadoModificar=s}),e.qZA()(),e.TgZ(26,"div")(27,"h3"),e._uU(28,"Introduce las respuestas y marca la correcta"),e.qZA(),e.TgZ(29,"div",9)(30,"mat-radio-button",10),e.NdJ("click",function(){return i.setRespuestaCorrecta("1")}),e.qZA(),e.TgZ(31,"mat-form-field")(32,"mat-label"),e._uU(33,"Respuesta 1"),e.qZA(),e.TgZ(34,"input",11),e.NdJ("ngModelChange",function(s){return i.respuesta1=s}),e.qZA()()(),e.TgZ(35,"div",9)(36,"mat-radio-button",10),e.NdJ("click",function(){return i.setRespuestaCorrecta("2")}),e.qZA(),e.TgZ(37,"mat-form-field")(38,"mat-label"),e._uU(39,"Respuesta 2"),e.qZA(),e.TgZ(40,"input",12),e.NdJ("ngModelChange",function(s){return i.respuesta2=s}),e.qZA()()(),e.TgZ(41,"div",9)(42,"mat-radio-button",10),e.NdJ("click",function(){return i.setRespuestaCorrecta("3")}),e.qZA(),e.TgZ(43,"mat-form-field")(44,"mat-label"),e._uU(45,"Respuesta 3"),e.qZA(),e.TgZ(46,"input",13),e.NdJ("ngModelChange",function(s){return i.respuesta3=s}),e.qZA()()()(),e.TgZ(47,"div",9)(48,"mat-radio-button",10),e.NdJ("click",function(){return i.setRespuestaCorrecta("4")}),e.qZA(),e.TgZ(49,"mat-form-field")(50,"mat-label"),e._uU(51,"Respuesta 4"),e.qZA(),e.TgZ(52,"input",14),e.NdJ("ngModelChange",function(s){return i.respuesta4=s}),e.qZA()()(),e.TgZ(53,"button",15),e.NdJ("click",function(){return i.modificarPregunta()}),e._uU(54," Modificar Pregunta\n"),e.qZA(),e.TgZ(55,"h3",16),e._uU(56),e.qZA(),e.TgZ(57,"h3",16),e._uU(58),e.qZA()),2&a){const o=e.MAs(5);e.xp6(4),e.Q6J("displayWith",i.displayFn),e.xp6(2),e.Q6J("ngForOf",i.preguntasFiltradas),e.xp6(2),e.Q6J("formControl",i.preguntaSeleccionadaModificar)("matAutocomplete",o)("value",(null==i.preguntaSeleccionadaModificar.value?null:i.preguntaSeleccionadaModificar.value.pregunta)||""),e.xp6(6),e.Q6J("formControl",i.temas),e.xp6(1),e.Q6J("ngForOf",i.themesList),e.xp6(3),e.Q6J("ngModel",i.dificultadSeleccionadaModificar),e.xp6(1),e.Q6J("ngForOf",i.difficulties),e.xp6(6),e.Q6J("ngModel",i.enunciadoModificar),e.xp6(9),e.Q6J("ngModel",i.respuesta1),e.xp6(6),e.Q6J("ngModel",i.respuesta2),e.xp6(6),e.Q6J("ngModel",i.respuesta3),e.xp6(6),e.Q6J("ngModel",i.respuesta4),e.xp6(4),e.Oqu(i.mensajeModificar),e.xp6(2),e.Oqu(i.mensajeModificarRespuestas)}},dependencies:[f.sg,u.Fj,u.JJ,u.nD,u.On,u.oH,j,c.ey,k,T.lW,_.KE,_.hX,C.Nt,v.VQ,v.U0,w.gD],styles:["@media (max-width: 765px){mat-form-field[_ngcontent-%COMP%]{width:80%}}"]})}return n})()},{path:"agregar",component:Pe}]}];let Be=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#a=this.\u0275inj=e.cJS({imports:[A.Bz.forChild(De),A.Bz]})}return n})(),Le=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#a=this.\u0275inj=e.cJS({imports:[f.ez,u.u5,u.UX,Be,b.JF,be,T.ot,Ce,_.lN,C.c,c.Ng,v.Fk,w.LD]})}return n})()}}]);